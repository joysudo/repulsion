[gd_scene load_steps=24 format=4 uid="uid://wdmusfh8lgs5"]

[ext_resource type="PackedScene" uid="uid://bqryg3i0cyyd4" path="res://portal.tscn" id="1_8b0r0"]
[ext_resource type="PackedScene" uid="uid://d0c7w8v00mld0" path="res://coin.tscn" id="1_aicyk"]
[ext_resource type="PackedScene" uid="uid://g08seisd8imf" path="res://entities/player/player.tscn" id="1_u52ul"]
[ext_resource type="Texture2D" uid="uid://c71d1t04aulbx" path="res://assets/tilesets/2026_01_31_0n1_Kleki.png" id="1_vonw3"]
[ext_resource type="Texture2D" uid="uid://v5ywbmanvxbg" path="res://entities/player/p1/p1neg.png" id="3_1ainy"]
[ext_resource type="Texture2D" uid="uid://by0t3q2iim36l" path="res://entities/player/p1/p1pos.png" id="3_f2txt"]
[ext_resource type="Script" uid="uid://dg0jxavxgfpmc" path="res://entities/player/line_2d.gd" id="3_oi3di"]
[ext_resource type="Texture2D" uid="uid://mlrge1ml6nee" path="res://entities/player/p2/p2pos.png" id="4_1ainy"]
[ext_resource type="Texture2D" uid="uid://b1ueak6by31kq" path="res://entities/player/p1/p1neu.png" id="4_n6hdu"]
[ext_resource type="Texture2D" uid="uid://c6q0i1o7wlenf" path="res://entities/player/p2/p2neg.png" id="6_i2t4f"]
[ext_resource type="Texture2D" uid="uid://04sri4f2heir" path="res://entities/player/p2/p2neu.png" id="7_8cye3"]
[ext_resource type="Script" uid="uid://dqg0op7rmh0qr" path="res://canvas_layer.gd" id="11_8b0r0"]
[ext_resource type="FontFile" uid="uid://cuq8hcfyse7rh" path="res://assets/fonts/LTSuperior-Medium.ttf" id="12_h6smj"]
[ext_resource type="Texture2D" uid="uid://ddi3tiar02ay0" path="res://assets/backgrounds/2/purple_bg_1.png" id="15_v5j5c"]
[ext_resource type="Texture2D" uid="uid://rql524bws0bp" path="res://assets/backgrounds/2/purple_bg_2.png" id="16_4c15r"]
[ext_resource type="PackedScene" uid="uid://cj1qpffk6blds" path="res://camera_2d.tscn" id="17_4c15r"]
[ext_resource type="Texture2D" uid="uid://6wke5fpohu5f" path="res://assets/backgrounds/2/purple_bg_3.png" id="17_ait7k"]
[ext_resource type="Texture2D" uid="uid://cc5m8qk5gqdgs" path="res://assets/backgrounds/2/purple_bg_4.png" id="18_42xju"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_vonw3"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_4c15r"]
texture = ExtResource("1_vonw3")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)

[sub_resource type="TileSet" id="TileSet_vonw3"]
tile_size = Vector2i(32, 32)
physics_layer_0/collision_layer = 1
physics_layer_0/collision_mask = 0
physics_layer_0/physics_material = SubResource("PhysicsMaterial_vonw3")
sources/0 = SubResource("TileSetAtlasSource_4c15r")

[sub_resource type="SpriteFrames" id="SpriteFrames_km5ld"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_1ainy")
}],
"loop": true,
"name": &"idle_neg",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("4_n6hdu")
}],
"loop": true,
"name": &"idle_neu",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_f2txt")
}],
"loop": true,
"name": &"idle_pos",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_1ainy")
}],
"loop": true,
"name": &"jump_neg",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("4_n6hdu")
}],
"loop": true,
"name": &"jump_neu",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_f2txt")
}],
"loop": true,
"name": &"jump_pos",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_1ainy")
}],
"loop": true,
"name": &"run_neg",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("4_n6hdu")
}],
"loop": true,
"name": &"run_neu",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_f2txt")
}],
"loop": true,
"name": &"run_pos",
"speed": 5.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_2orkt"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_i2t4f")
}],
"loop": true,
"name": &"idle_neg",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("7_8cye3")
}],
"loop": true,
"name": &"idle_neu",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("4_1ainy")
}],
"loop": true,
"name": &"idle_pos",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_i2t4f")
}],
"loop": true,
"name": &"jump_neg",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("7_8cye3")
}],
"loop": true,
"name": &"jump_neu",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("4_1ainy")
}],
"loop": true,
"name": &"jump_pos",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_i2t4f")
}],
"loop": true,
"name": &"run_neg",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("7_8cye3")
}],
"loop": true,
"name": &"run_neu",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("4_1ainy")
}],
"loop": true,
"name": &"run_pos",
"speed": 5.0
}]

[node name="Level" type="Node2D"]

[node name="Parallax2D" type="Parallax2D" parent="."]
z_index = -10
scroll_scale = Vector2(0.2, 0.2)
repeat_size = Vector2(1280, 720)

[node name="Sprite2D" type="Sprite2D" parent="Parallax2D"]
position = Vector2(320, 180)
scale = Vector2(0.5, 0.5)
texture = ExtResource("15_v5j5c")
offset = Vector2(640, 360)

[node name="Parallax2D4" type="Parallax2D" parent="."]
z_index = -10
scroll_scale = Vector2(0.7, 0.7)
scroll_offset = Vector2(0, -16)
repeat_size = Vector2(1280, 720)

[node name="Sprite2D" type="Sprite2D" parent="Parallax2D4"]
position = Vector2(320, 180)
scale = Vector2(0.5, 0.5)
texture = ExtResource("18_42xju")
offset = Vector2(640, 360)

[node name="Parallax2D3" type="Parallax2D" parent="."]
z_index = 20
scroll_scale = Vector2(1.2, 1.2)
repeat_size = Vector2(1280, 720)

[node name="Sprite2D" type="Sprite2D" parent="Parallax2D3"]
z_index = -20
position = Vector2(320, 180)
scale = Vector2(0.5, 0.5)
texture = ExtResource("17_ait7k")
offset = Vector2(640, 360)

[node name="Portal" parent="." instance=ExtResource("1_8b0r0")]
position = Vector2(1166, 570)
next_level_path = "uid://digdsx538fglt"

[node name="Coin" parent="." groups=["coins"] instance=ExtResource("1_aicyk")]
position = Vector2(170, 603)

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAAABUAAAAAAAAAAAABABUAAAAAAAAAAAACABUAAAAAAAAAAAADABUAAAAAAAAAAAAEABUAAAAAAAAAAAAFABUAAAAAAAAAAAAGABUAAAAAAAAAAAAHABUAAAAAAAAAAAAIABUAAAAAAAAAAAAJABUAAAAAAAAAAAAKABUAAAAAAAAAAAALABUAAAAAAAAAAAAMABUAAAAAAAAAAAANABUAAAAAAAAAAAAOABUAAAAAAAAAAAAPABUAAAAAAAAAAAAQABUAAAAAAAAAAAARABUAAAAAAAAAAAASABUAAAAAAAAAAAATABUAAAAAAAAAAAAUABUAAAAAAAAAAAAVABUAAAAAAAAAAAAWABUAAAAAAAAAAAAXABUAAAAAAAAAAAAYABUAAAAAAAAAAAAZABUAAAAAAAAAAAAaABUAAAAAAAAAAAAbABUAAAAAAAAAAAAcABUAAAAAAAAAAAAdABUAAAAAAAAAAAAeABUAAAAAAAAAAAAfABUAAAAAAAAAAAAgABUAAAAAAAAAAAAhABUAAAAAAAAAAAAiABUAAAAAAAAAAAAjABUAAAAAAAAAAAAkABUAAAAAAAAAAAAlABUAAAAAAAAAAAAmABUAAAAAAAAAAAAnABUAAAAAAAAAAAAKABAAAAAAAAAAAAALABAAAAAAAAAAAAAMABAAAAAAAAAAAAANABAAAAAAAAAAAAAOABAAAAAAAAAAAAAPABAAAAAAAAAAAAAHABAAAAAAAAAAAAA=")
tile_set = SubResource("TileSet_vonw3")

[node name="Player1" parent="." groups=["player"] instance=ExtResource("1_u52ul")]
position = Vector2(113, 216)
player_id = 1

[node name="AnimatedSprite2D" parent="Player1" index="0"]
position = Vector2(14, 59)
sprite_frames = SubResource("SpriteFrames_km5ld")
animation = &"jump_neg"
offset = Vector2(-70, -295)

[node name="CollisionShape2D" parent="Player1" index="1"]
position = Vector2(6, 3)

[node name="Player2" parent="." groups=["player"] instance=ExtResource("1_u52ul")]
position = Vector2(504, 216)
player_id = 2

[node name="AnimatedSprite2D" parent="Player2" index="0"]
sprite_frames = SubResource("SpriteFrames_2orkt")
animation = &"run_neu"

[node name="Line2D" type="Line2D" parent="." node_paths=PackedStringArray("p1", "p2")]
points = PackedVector2Array(610, 553)
width = 6.0
default_color = Color(1, 1, 1, 0.39215687)
script = ExtResource("3_oi3di")
p1 = NodePath("../Player1")
p2 = NodePath("../Player2")

[node name="CanvasLayer" type="CanvasLayer" parent="."]
script = ExtResource("11_8b0r0")

[node name="Label" type="Label" parent="CanvasLayer"]
offset_left = 974.0
offset_top = 32.0
offset_right = 1186.0
offset_bottom = 62.0
theme_override_fonts/font = ExtResource("12_h6smj")
theme_override_font_sizes/font_size = 30
text = "coins collected: "
metadata/_edit_use_anchors_ = true

[node name="Camera2D" parent="." instance=ExtResource("17_4c15r")]

[node name="Parallax2D2" type="Parallax2D" parent="."]
z_index = -10
scroll_scale = Vector2(1.2, 1.2)
repeat_size = Vector2(1280, 720)

[node name="Sprite2D" type="Sprite2D" parent="Parallax2D2"]
modulate = Color(1, 1, 1, 0.9411765)
z_index = 100
position = Vector2(320, 180)
scale = Vector2(0.5, 0.5)
texture = ExtResource("16_4c15r")
offset = Vector2(640, 400)

[editable path="Player1"]
[editable path="Player2"]
